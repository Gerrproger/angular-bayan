/*!
 * angular-bayan
 * @version  v1.0.0
 * @author   Gerrproger
 * Website:  http://gerrproger.github.io/angular-bayan
 * Repo:     http://github.com/gerrproger/angular-bayan
 * Issues:   http://github.com/gerrproger/angular-bayan/issues
 */
"format amd";!function(e){"use strict";function n(e,n){return e.module("angular-bayan",[]).directive("bayan",function(){return{restrict:"EA",scope:!0,transclude:!0,replace:!0,template:"<div ng-transclude></div>",controller:function(){this.open=!0},controllerAs:"bayan"}}).directive("bayanContent",["$timeout",function(n){return{restrict:"EA",transclude:!0,replace:!0,require:"^bayan",scope:{bayanContentOffset:"=",bayanContentCollapsed:"="},template:"<div ng-transclude></div>",link:function(t,a,r,o){function i(){var n=a[0].querySelector("[bayan-content-target],[data-bayan-content-target]");n&&(a=e.element(n));var t=a.children(),r=0,o=0;l=a[0].scrollHeight,e.forEach(t,function(n,t){if(n=e.element(n),0===t)r=n.prop("offsetTop"),o=n.prop("offsetHeight");else{if(r!==n.prop("offsetTop"))return!1;var a=n.prop("offsetHeight");a>o&&(o=a)}}),u=o}function c(){i(),o.open?a.css({"max-height":l+"px"}):a.css({"max-height":u+parseInt(t.bayanContentOffset)+"px"})}var u,l=a[0].scrollHeight;o.open=!t.bayanContentCollapsed,o.update=function(){n(c)},t.$on("bayan:update",o.update),o.update(),t.bayan=o}}}]).directive("bayanHeader",function(){return{restrict:"EA",transclude:!0,template:'<a href ng-click="toggleOpen()" ng-transclude></a>',replace:!0,require:"^bayan",link:function(e,n,t,a){e.toggleOpen=function(){a.open=!a.open,a.update()},e.bayan=a}}})}"object"==typeof module&&module.exports?module.exports=n(require("angular")):"function"==typeof define&&define.amd?define(["angular"],n):n(e.angular,e.Bayan)}(this);